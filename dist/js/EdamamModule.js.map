{"version":3,"sources":["EdamamModule.js"],"names":["EdamamModule","country","document","querySelector","calories","search","results","form","addEventListener","e","innerHTML","searchEdamam","BattutaModule","searchBattuta","value","cal","console","log","API_ID","API_KEY","url","axios","get","params","then","displayRecipes","data","hits","recipeArray","forEach","item","recipe","liCont","createElement","innerDiv","thumbnail","image","imgCont","title","label","link","calP","dietP","healthP","ingredientsCont","ingredientsInner","ingredientsTitle","ingredientsDrop","ingredientLines","ingredient","ingredientP","appendChild","style","display","src","linkTitle","createTextNode","href","Math","round","dietLabels","healthLabels"],"mappings":"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","file":"EdamamModule.js","sourcesContent":["var EdamamModule = (function() {\n\t\n\t//use the country to search countries\n\tlet country = document.querySelector('#country')\n\t//use the calories to search with maximum calories\n\tlet calories = document.querySelector('#calories');\n\n\t//search button\n\tconst search = document.querySelector('#search');\n\n\t//where results go\n\tlet results = document.querySelector('#results');\n\n\t//form\n\tconst form = document.querySelector('#search-form');\n\n\t//on click of the search button, we loop through the\n\t//checkboxes to see if there are any checked. If there\n\t//are, we'll call the api to make a query search for each check\n\tsearch.addEventListener('click', function(e) {\n\t\tresults.innerHTML = '';\n\t\tsearchEdamam(country, calories);\n\t\tBattutaModule.searchBattuta();\n\t\tcountry.value = '';\n\t\tcalories.value = '';\n\t});\n\n\tconst searchEdamam = (country, cal) => {\n\n\t\tconsole.log('searchEdamam()', country.value, cal.value)\n\n\t\tconst API_ID = '7225e88e';\n\t\tconst API_KEY = '0b61fdd62618cc0846b866672077a6ea';\n\t\tlet url = 'https://api.edamam.com/search';\n\n\t\taxios.get(url, {\n\t\t\tparams: {\n\t\t\t\t'app_id': API_ID,\n\t\t\t\t'app_key': API_KEY,\n\t\t\t\t'q': country.value,\n\t\t\t\t'calories': \"0-\" + cal.value\n\t\t\t}\n\t\t})\n\t\t.then(function (results) {\n\t\t\tconsole.log(results)\n\t\t\tdisplayRecipes(results.data.hits);\n\n\t\t})\n\t}\n\n\tconst displayRecipes = (recipeArray) => {\n\n\t\trecipeArray.forEach((item) => {\n\t\t\tconsole.log(item.recipe);\n\n\t\t\t//first, we make a container = li.\n\t\t\t//container holding all the data\n\t\t\tconst liCont = document.createElement('li');\n\n\t\t\t//second, we make a div to hold the recipe info.\n\t\t\t//this will be useful for styling/flexibility.\n\t\t\t//it will be appended to the liCont.\n\t\t\tconst innerDiv = document.createElement('div');\n\n\t\t\t//then the image, with a fallback.\n\t\t\t//if there is an image, include it\n\t\t\tlet thumbnail = \"https://pbs.twimg.com/profile_images/571009371593666560/H8BnOWbx.jpeg\";\n\t\t\tif (item.recipe.image) {\n\t\t\t\tthumbnail = item.recipe.image;\n\t\t\t}\n\n\t\t\t//img. container of the thumbnail\n\t\t\tconst imgCont = document.createElement('img');\n\t\t\t//name\n\t\t\tconst title = item.recipe.label;\n\n\t\t\t//the link itself\n\t\t\tconst url = item.recipe.url;\n\n\t\t\t//the a tag\n\t\t\tconst link = document.createElement('a');\n\n\t\t\t//calories\n\t\t\tconst calP = document.createElement('p');\n\n\t\t\t//diet type\n\t\t\tconst dietP = document.createElement('p');\n\n\t\t\t//health labels\n\t\t\tconst healthP = document.createElement('p');\n\n\t\t\t//ingredients container\n\t\t\tconst ingredientsCont = document.createElement('div');\n\n\t\t\t//ingredients inner container\n\t\t\tconst ingredientsInner = document.createElement('div');\n\n\t\t\t//name\n\t\t\tconst ingredientsTitle = document.createElement('p');\n\n\t\t\t//drop button\n\t\t\tconst ingredientsDrop = document.createElement('button');\n\n\t\t\tingredientsTitle.addEventListener('click', function() {\n\t\t\t\titem.recipe.ingredientLines.forEach((ingredient) => {\n\t\t\t\t\t//list ingredients\n\t\t\t\t\tconst ingredientP = document.createElement('p');\n\t\t\t\t\tingredientP.innerHTML = ingredient;\n\t\t\t\t\tingredientsCont.appendChild(ingredientP);\n\n\t\t\t\t\tingredientsDrop.innerHTML = '&#9650;';\n\n\t\t\t\t\tingredientsDrop.addEventListener('click', function() {\n\t\t\t\t\t\t//close container\n\t\t\t\t\t\tingredientP.style.display = 'none';\n\t\t\t\t\t\tingredientsDrop.innerHTML = '&#9660;';\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t})\n\n\t\t\t//add content.\n\t\t\timgCont.src = thumbnail;\n\n\t\t\tconst linkTitle = document.createTextNode(title);\n\n\t\t\tlink.href = url;\n\n\t\t\tcalP.innerHTML = 'Calories: ' + Math.round(item.recipe.calories);\n\n\t\t\tdietP.innerHTML = 'Diet Labels: ' + item.recipe.dietLabels;\n\n\t\t\thealthP.innerHTML = 'Health Labels: ' + item.recipe.healthLabels;\n\n\t\t\tingredientsTitle.innerHTML = 'Ingredients ';\n\n\t\t\tingredientsDrop.innerHTML = '&#9660;';\n\n\t\t\t//append everything\n\t\t\tresults.appendChild(liCont);\n\t\t\tliCont.appendChild(innerDiv);\n\n\t\t\tinnerDiv.appendChild(link);\n\t\t\tlink.appendChild(linkTitle);\n\n\t\t\tinnerDiv.appendChild(calP);\n\t\t\tinnerDiv.appendChild(dietP);\n\t\t\tinnerDiv.appendChild(healthP);\n\t\t\tinnerDiv.appendChild(ingredientsCont);\n\t\t\tingredientsCont.appendChild(ingredientsInner);\n\t\t\tingredientsInner.appendChild(ingredientsTitle);\n\t\t\tingredientsInner.appendChild(ingredientsDrop);\n\n\t\t\tliCont.appendChild(imgCont);\n\t\t}) \n\t}\n\n\treturn {\n\t\tsearchEdamam: searchEdamam\n\t}\n\n})();"]}