{"version":3,"sources":["EdamamModule.js"],"names":["EdamamModule","country","document","querySelector","calories","search","results","form","addEventListener","e","innerHTML","searchEdamam","BattutaModule","searchBattuta","value","cal","console","log","API_ID","API_KEY","url","axios","get","params","then","displayRecipes","data","hits","recipeArray","forEach","item","recipe","liCont","createElement","innerArticle","thumbnail","image","imgCont","title","label","link","calP","dietP","healthP","ingredientsSection","ingredientsInner","ingredientsTitle","ingredientsDrop","src","linkTitle","createTextNode","href","Math","round","yield","dietLabels","healthLabels","appendChild","ingredientLines","ingredient","ingredientP","classList","toggle","contains"],"mappings":"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","file":"EdamamModule.js","sourcesContent":["var EdamamModule = (function() {\n\t\n\t//use the country to search countries\n\tlet country = document.querySelector('#country')\n\t//use the calories to search with maximum calories\n\tlet calories = document.querySelector('#calories');\n\n\t//search button\n\tconst search = document.querySelector('#search');\n\n\t//where results go\n\tlet results = document.querySelector('#results');\n\n\t//form\n\tconst form = document.querySelector('.search-form');\n\n\t//on click of the search button, we loop through the\n\t//checkboxes to see if there are any checked. If there\n\t//are, we'll call the api to make a query search for each check\n\tsearch.addEventListener('click', function(e) {\n\t\tresults.innerHTML = '';\n\t\tsearchEdamam(country, calories);\n\t\tBattutaModule.searchBattuta();\n\t\tcountry.value = '';\n\t\tcalories.value = '';\n\t});\n\n\tconst searchEdamam = (country, cal) => {\n\n\t\tconsole.log('searchEdamam()', country.value, cal.value)\n\n\t\tconst API_ID = '7225e88e';\n\t\tconst API_KEY = '0b61fdd62618cc0846b866672077a6ea';\n\t\tlet url = 'https://api.edamam.com/search';\n\n\t\taxios.get(url, {\n\t\t\tparams: {\n\t\t\t\t'q': country.value,\n\t\t\t\t'app_id': API_ID,\n\t\t\t\t'app_key': API_KEY,\n\t\t\t\t'calories': cal.value\n\t\t\t}\n\t\t})\n\t\t.then(function (results) {\n\t\t\tconsole.log(results)\n\t\t\tdisplayRecipes(results.data.hits);\n\n\t\t})\n\t}\n\n\tconst displayRecipes = (recipeArray) => {\n\n\t\trecipeArray.forEach((item) => {\n\t\t\tconsole.log(item.recipe);\n\n\t\t\t// if (item.recipe.calories <= calories) {\n\n\t\t\t\t//first, we make a container = li.\n\t\t\t\t//container holding all the data\n\t\t\t\tconst liCont = document.createElement('li');\n\n\t\t\t\t//second, we make an article to hold the recipe info.\n\t\t\t\t//this will be useful for styling/flexibility.\n\t\t\t\t//it will be appended to the liCont.\n\t\t\t\tconst innerArticle = document.createElement('article');\n\n\t\t\t\t//then the image, with a fallback.\n\t\t\t\t//if there is an image, include it\n\t\t\t\tlet thumbnail = \"https://pbs.twimg.com/profile_images/571009371593666560/H8BnOWbx.jpeg\";\n\t\t\t\tif (item.recipe.image) {\n\t\t\t\t\tthumbnail = item.recipe.image;\n\t\t\t\t}\n\n\t\t\t\t//img. container of the thumbnail\n\t\t\t\tconst imgCont = document.createElement('img');\n\t\t\t\t//name\n\t\t\t\tconst title = item.recipe.label;\n\n\t\t\t\t//the link itself\n\t\t\t\tconst url = item.recipe.url;\n\n\t\t\t\t//the a tag\n\t\t\t\tconst link = document.createElement('a');\n\n\t\t\t\t//calories\n\t\t\t\tconst calP = document.createElement('p');\n\n\t\t\t\t//diet type\n\t\t\t\tconst dietP = document.createElement('p');\n\n\t\t\t\t//health labels\n\t\t\t\tconst healthP = document.createElement('p');\n\n\t\t\t\t//ingredients container\n\t\t\t\tconst ingredientsSection = document.createElement('section');\n\n\t\t\t\t//ingredients inner container\n\t\t\t\tconst ingredientsInner = document.createElement('div');\n\n\t\t\t\t//name\n\t\t\t\tconst ingredientsTitle = document.createElement('h4');\n\n\t\t\t\t//drop button\n\t\t\t\tconst ingredientsDrop = document.createElement('button');\n\n\t\t\t\t//add content.\n\t\t\t\timgCont.src = thumbnail;\n\n\t\t\t\tconst linkTitle = document.createTextNode(title);\n\n\t\t\t\tlink.href = url;\n\n\t\t\t\tcalP.innerHTML = 'Calories: ' + Math.round(item.recipe.calories / item.recipe.yield);\n\n\t\t\t\tdietP.innerHTML = 'Diet Labels: ' + item.recipe.dietLabels;\n\n\t\t\t\thealthP.innerHTML = 'Health Labels: ' + item.recipe.healthLabels;\n\n\t\t\t\tingredientsTitle.innerHTML = 'Ingredients ';\n\n\t\t\t\tingredientsDrop.innerHTML = '&#9660;';\n\n\t\t\t\t//append everything\n\t\t\t\tresults.appendChild(liCont);\n\t\t\t\tliCont.appendChild(innerArticle);\n\n\t\t\t\tinnerArticle.appendChild(link);\n\t\t\t\tlink.appendChild(linkTitle);\n\n\t\t\t\tinnerArticle.appendChild(calP);\n\t\t\t\tinnerArticle.appendChild(dietP);\n\t\t\t\tinnerArticle.appendChild(healthP);\n\t\t\t\tinnerArticle.appendChild(ingredientsSection);\n\t\t\t\tingredientsSection.appendChild(ingredientsInner);\n\t\t\t\tingredientsInner.appendChild(ingredientsTitle);\n\t\t\t\tingredientsInner.appendChild(ingredientsDrop);\n\n\t\t\t\tliCont.appendChild(imgCont);\n\n\t\t\t\titem.recipe.ingredientLines.forEach((ingredient) => {\n\t\t\t\t\t//list ingredients\n\t\t\t\t\tconst ingredientP = document.createElement('p');\n\t\t\t\t\tingredientP.innerHTML = ingredient;\n\t\t\t\t\tingredientsSection.appendChild(ingredientP);\n\n\t\t\t\t\t//listen for open or closed container\n\t\t\t\t\tingredientsDrop.addEventListener('click', function() {\n\t\t\t\t\t\tingredientP.classList.toggle('is-open');\n\t\t\t\t\t\tif (ingredientP.classList.contains('is-open')) {\n\t\t\t\t\t\t\tingredientsDrop.innerHTML = '&#9650;';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tingredientsDrop.innerHTML = '&#9660;';\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t// } else {\n\t\t\t// \tnull\n\t\t\t// }\n\t\t}) \n\t}\n\n\treturn {\n\t\tsearchEdamam: searchEdamam\n\t}\n\n})();"]}