{"version":3,"sources":["EdamamModule.js"],"names":["EdamamModule","country","document","querySelector","countryErrorDiv","calories","search","results","form","loader","addEventListener","e","value","innerHTML","showLoader","searchEdamam","classList","add","hideLoader","remove","cal","console","log","API_ID","API_KEY","url","axios","get","params","then","displayRecipes","data","hits","recipeArray","forEach","item","recipe","liCont","createElement","innerArticle","thumbnail","image","imgCont","title","label","link","calP","dietP","healthP","ingredientsSection","ingredientsInner","ingredientsTitle","ingredientsDrop","src","linkTitle","createTextNode","href","Math","round","yield","dietLabels","healthLabels","appendChild","ingredientLines","ingredient","ingredientP","toggle","contains"],"mappings":"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","file":"EdamamModule.js","sourcesContent":["var EdamamModule = (function() {\n\t\n\t//use the country to search countries\n\tlet country = document.querySelector('#country')\n\n\tlet countryErrorDiv = document.querySelector('#country .error-message')\n\n\t//use the calories to search with maximum calories\n\tlet calories = document.querySelector('#calories');\n\n\t// let errorDiv = document.querySelector('.error-message')\n\n\t//search button\n\tconst search = document.querySelector('#search');\n\n\t//where results go\n\tlet results = document.querySelector('#results');\n\n\t//form\n\tconst form = document.querySelector('.search-form');\n\n\t//loader\n\tconst loader = document.querySelector('.loading-cont');\n\n\t//on click of the search button, we loop through the\n\t//checkboxes to see if there are any checked. If there\n\t//are, we'll call the api to make a query search for each check\n\tsearch.addEventListener('click', function(e) {\n\t\tif (country.value !== '' || calories.value !== '') { \n\t\t\tresults.innerHTML = '';\n\t\t\tshowLoader();\n\t\t\tsearchEdamam(country, calories);\n\t\t\t\n\t\t\t// BattutaModule.searchBattuta();\n\t\t}\n\t});\n\n\tconst showLoader = () => {\n\t\tloader.classList.add('is-loading')\n\t}\n\n\tconst hideLoader = () => {\n\t\tloader.classList.remove('is-loading')\n\t}\n\n\tconst searchEdamam = (country, cal) => {\n\n\t\tconsole.log('searchEdamam()', country.value, cal.value)\n\n\t\tconst API_ID = '7225e88e';\n\t\tconst API_KEY = '0b61fdd62618cc0846b866672077a6ea';\n\t\tlet url = 'https://api.edamam.com/search';\n\n\t\taxios.get(url, {\n\t\t\tparams: {\n\t\t\t\t'q': country.value,\n\t\t\t\t'app_id': API_ID,\n\t\t\t\t'app_key': API_KEY,\n\t\t\t\t'calories': cal.value || null\n\t\t\t}\n\t\t})\n\n\t\t.then(function (results) {\n\t\t\tconsole.log(results)\n\t\t\thideLoader();\n\t\t\tdisplayRecipes(results.data.hits);\n\n\t\t})\n\t}\n\n\tconst displayRecipes = (recipeArray) => {\n\n\t\trecipeArray.forEach((item) => {\n\t\t\tconsole.log(item.recipe);\n\n\t\t\t//first, we make a container = li.\n\t\t\t//container holding all the data\n\t\t\tconst liCont = document.createElement('li');\n\n\t\t\t//second, we make an article to hold the recipe info.\n\t\t\t//this will be useful for styling/flexibility.\n\t\t\t//it will be appended to the liCont.\n\t\t\tconst innerArticle = document.createElement('article');\n\n\t\t\t//then the image, with a fallback.\n\t\t\t//if there is an image, include it\n\t\t\tlet thumbnail = \"https://pbs.twimg.com/profile_images/571009371593666560/H8BnOWbx.jpeg\";\n\t\t\tif (item.recipe.image) {\n\t\t\t\tthumbnail = item.recipe.image;\n\t\t\t}\n\n\t\t\t//img. container of the thumbnail\n\t\t\tconst imgCont = document.createElement('img');\n\t\t\t//name\n\t\t\tconst title = item.recipe.label;\n\n\t\t\t//the link itself\n\t\t\tconst url = item.recipe.url;\n\n\t\t\t//the a tag\n\t\t\tconst link = document.createElement('a');\n\n\t\t\t//calories\n\t\t\tconst calP = document.createElement('p');\n\n\t\t\t//diet type\n\t\t\tconst dietP = document.createElement('p');\n\n\t\t\t//health labels\n\t\t\tconst healthP = document.createElement('p');\n\n\t\t\t//ingredients container\n\t\t\tconst ingredientsSection = document.createElement('section');\n\n\t\t\t//ingredients inner container\n\t\t\tconst ingredientsInner = document.createElement('div');\n\n\t\t\t//name\n\t\t\tconst ingredientsTitle = document.createElement('h4');\n\n\t\t\t//drop button\n\t\t\tconst ingredientsDrop = document.createElement('button');\n\n\t\t\t//add content.\n\t\t\timgCont.src = thumbnail;\n\n\t\t\tconst linkTitle = document.createTextNode(title);\n\n\t\t\tlink.href = url;\n\n\t\t\tcalP.innerHTML = 'Calories: ' + Math.round(item.recipe.calories / item.recipe.yield);\n\n\t\t\tdietP.innerHTML = 'Diet Labels: ' + item.recipe.dietLabels;\n\n\t\t\thealthP.innerHTML = 'Health Labels: '\n\t\t\titem.recipe.healthLabels.forEach((label) => {\n\t\t\t\thealthP.innerHTML += label + ', ';\n\t\t\t});\n\n\t\t\tingredientsTitle.innerHTML = 'Ingredients ';\n\n\t\t\tingredientsDrop.innerHTML = '&#9660;';\n\n\t\t\t//append everything\n\t\t\tresults.appendChild(liCont);\n\t\t\tliCont.appendChild(innerArticle);\n\n\t\t\tinnerArticle.appendChild(link);\n\t\t\tlink.appendChild(linkTitle);\n\n\t\t\tinnerArticle.appendChild(calP);\n\t\t\tinnerArticle.appendChild(dietP);\n\t\t\tinnerArticle.appendChild(healthP);\n\t\t\tinnerArticle.appendChild(ingredientsSection);\n\t\t\tingredientsSection.appendChild(ingredientsInner);\n\t\t\tingredientsInner.appendChild(ingredientsTitle);\n\t\t\tingredientsInner.appendChild(ingredientsDrop);\n\n\t\t\tliCont.appendChild(imgCont);\n\n\t\t\titem.recipe.ingredientLines.forEach((ingredient) => {\n\t\t\t\t//list ingredients\n\t\t\t\tconst ingredientP = document.createElement('p');\n\t\t\t\tingredientP.innerHTML = ingredient;\n\t\t\t\tingredientsSection.appendChild(ingredientP);\n\n\t\t\t\t//listen for open or closed container\n\t\t\t\tingredientsDrop.addEventListener('click', function() {\n\t\t\t\t\tingredientP.classList.toggle('is-open');\n\t\t\t\t\tif (ingredientP.classList.contains('is-open')) {\n\t\t\t\t\t\tingredientsDrop.innerHTML = '&#9650;';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tingredientsDrop.innerHTML = '&#9660;';\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t}) \n\t}\n\n\treturn {\n\t\tsearchEdamam: searchEdamam\n\t}\n\n})();"]}