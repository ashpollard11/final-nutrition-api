{"version":3,"sources":["AutofillModule.js"],"names":["AutoFillModule","country","document","querySelector","suggestions","window","addEventListener","e","RestCountriesModule","searchRestCountries","innerHTML","inputValue","currentTarget","value","toLowerCase","length","countryArray","forEach","item","includes","createButton","string","button","createElement","href","buttonTitle","createTextNode","appendChild","preventDefault","substr","slice","indexOf","replace"],"mappings":";;AAAA,IAAIA,iBAAkB,YAAW;;AAEhC,KAAIC,UAAUC,SAASC,aAAT,CAAuB,oBAAvB,CAAd;AACA,KAAIC,cAAcF,SAASC,aAAT,CAAuB,cAAvB,CAAlB;AACA;;AAEAE,QAAOC,gBAAP,CAAwB,MAAxB,EAAgC,UAASC,CAAT,EAAY;AAC3CC,sBAAoBC,mBAApB;AACA,EAFD;;AAIA;AACAR,SAAQK,gBAAR,CAAyB,OAAzB,EAAkC,UAASC,CAAT,EAAY;AAC7C;AACAH,cAAYM,SAAZ,GAAwB,EAAxB;AACA;AACA,MAAMC,aAAaJ,EAAEK,aAAF,CAAgBC,KAAhB,CAAsBC,WAAtB,EAAnB;AACA;AACA,MAAIH,WAAWI,MAAX,IAAqB,CAAzB,EAA4B;AAC3B;AACA;;AAEDP,sBAAoBQ,YAApB,CAAiCC,OAAjC,CAA0C,UAACC,IAAD,EAAU;AACnD;AACA;AACA,UAAOA,KAAKJ,WAAL,GAAmBK,QAAnB,CAA4BR,UAA5B;AACP;AADO,KAEJS,aAAaF,IAAb,CAFI,GAEiB,IAFxB;AAGA,GAND;AAOA,EAjBD;;AAmBA;AACA,KAAME,eAAe,SAAfA,YAAe,CAASC,MAAT,EAAiB;AACrC,MAAIC,SAASpB,SAASqB,aAAT,CAAuB,GAAvB,CAAb;AACAD,SAAOE,IAAP,GAAc,EAAd;AACA,MAAMC,cAAcvB,SAASwB,cAAT,CAAwBL,MAAxB,CAApB;AACAC,SAAOK,WAAP,CAAmBF,WAAnB;AACAH,SAAOhB,gBAAP,CAAyB,OAAzB,EAAkC,UAASC,CAAT,EAAY;AAC7CA,KAAEqB,cAAF;;AAEA;AACA,OAAIP,OAAOF,QAAP,CAAgB,GAAhB,CAAJ,EAA0B;AACzB,QAAIU,SAASR,OAAOS,KAAP,CAAaT,OAAOU,OAAP,CAAe,GAAf,IAAsB,CAAnC,EAAsCV,OAAOU,OAAP,CAAe,GAAf,IAAsB,CAA5D,CAAb;AACAV,aAASA,OAAOW,OAAP,CAAeH,MAAf,EAAuB,EAAvB,CAAT;AACA;;AAED5B,WAAQY,KAAR,GAAgBQ,MAAhB;AACAjB,eAAYM,SAAZ,GAAwB,EAAxB;AACA,GAXD;AAYA;AACAN,cAAYuB,WAAZ,CAAwBL,MAAxB;;AAEA;AACA;AACA;AACA;AACA,EAxBD;AA2BA,CA1DoB,EAArB","file":"AutofillModule.js","sourcesContent":["var AutoFillModule = (function() {\n\n\tvar country = document.querySelector(\"[name=\\\"country\\\"]\");\n\tvar suggestions = document.querySelector(\".suggestions\");\n\t//var inputValue = country.value;\n\n\twindow.addEventListener('load', function(e) {\n\t\tRestCountriesModule.searchRestCountries();\n\t})\n\n\t//on the release of a key, we add a value to the input field\n\tcountry.addEventListener(\"keyup\", function(e) {\n\t\t//the inner html in the div(list container) is empty\n\t\tsuggestions.innerHTML = ''\n\t\t//e.currentTarget is the state input's value. The value is lower case\n\t\tconst inputValue = e.currentTarget.value.toLowerCase()\n\t\t//if the input value is empty, stop the function for now\n\t\tif (inputValue.length <= 0) {\n\t\t\treturn\n\t\t}\t\n\n\t\tRestCountriesModule.countryArray.forEach ((item) => {\n\t\t\t//return this string/state, make it lower case to match the input value,\n\t\t\t//but check if it includes the input value\n\t\t\treturn item.toLowerCase().includes(inputValue)\n\t\t\t//if it does include the input value, call the createButton function. if not, do nothing\n\t\t\t\t? createButton(item) : null\n\t\t})\n\t})\n\n\t//make strings into buttons\n\tconst createButton = function(string) {\n\t\tlet button = document.createElement(\"a\");\n\t\tbutton.href = '';\n\t\tconst buttonTitle = document.createTextNode(string);\n\t\tbutton.appendChild(buttonTitle);\n\t\tbutton.addEventListener (\"click\", function(e) {\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\t//removes extra text from search result\n\t\t\tif (string.includes(\"(\")) {\n\t\t\t\tlet substr = string.slice(string.indexOf(\"(\") - 1, string.indexOf(\")\") + 1);\n\t\t\t\tstring = string.replace(substr, \"\");\t\n\t\t\t}\n\n\t\t\tcountry.value = string;\n\t\t\tsuggestions.innerHTML = '';\n\t\t})\n\t\t//this adds the button to the dom\n\t\tsuggestions.appendChild(button);\n\n\t\t/////probably unnecessary\n\t\t// country.addEventListener(\"blur\", function(e) {\n\t\t// \tsuggestions.innerHTML = '';\n\t\t// })\n\t}\n\n\n})();"]}